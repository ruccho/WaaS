"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[64990],{57393:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>p,frontMatter:()=>d,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"component-model/component-loading","title":"Loading a Component","description":"Basic","source":"@site/docs/component-model/component-loading.mdx","sourceDirName":"component-model","slug":"/component-model/component-loading","permalink":"/WaaS/component-model/component-loading","draft":false,"unlisted":false,"editUrl":"https://github.com/ruccho/WaaS/tree/main/docs/docs/component-model/component-loading.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Loading a Component","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Component Model API","permalink":"/WaaS/component-model/"},"next":{"title":"Using wit2waas","permalink":"/WaaS/component-model/wit2waas"}}');var s=o(74848),a=o(28453),i=o(76491);const d={title:"Loading a Component",sidebar_position:1},c=void 0,r={},l=[{value:"Basic",id:"basic",level:2},{value:"Streaming",id:"streaming",level:2},{value:"Loading as an Asset <Badge>Unity</Badge>",id:"loading-as-an-asset-unity",level:2}];function m(e){const n={admonition:"admonition",br:"br",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"basic",children:"Basic"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"Component.Create()"}),".",(0,s.jsx)(n.br,{}),"\n","You can load from ",(0,s.jsx)(n.code,{children:"ReadOnlySpan<byte>"})," or ",(0,s.jsx)(n.code,{children:"ReadOnlySequence<byte>"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using WaaS.ComponentModel.Models;\n\nSpan<byte> bytes = System.IO.File.LoadAllBytes("foo.wasm");\nvar component = Component.Create(bytes);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"streaming",children:"Streaming"}),"\n",(0,s.jsx)(n.p,{children:"Not supported at the moment."}),"\n",(0,s.jsxs)(n.h2,{id:"loading-as-an-asset-unity",children:["Loading as an Asset ",(0,s.jsx)(i.A,{children:"Unity"})]}),"\n",(0,s.jsxs)(n.p,{children:["When you import a file with the extension ",(0,s.jsx)(n.code,{children:"*.wasm"})," into a Unity project, it is automatically loaded as a ",(0,s.jsx)(n.code,{children:"WaaS.Unity.ComponentAsset"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Both modules and components have the extension ",(0,s.jsx)(n.code,{children:"*.wasm"}),", but they are automatically distinguished upon import."]})}),"\n",(0,s.jsxs)(n.p,{children:["Modules can be assigned as ",(0,s.jsx)(n.code,{children:"[SerializeField]"})," and loaded with ",(0,s.jsx)(n.code,{children:"ComponentAsset.LoadComponent()"})," or ",(0,s.jsx)(n.code,{children:"ComponentAsset.LoadComponentAsync()"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"using UnityEngine;\nusing WaaS.Unity;\n\n[SerializeField] private ComponentAsset componentAsset;\n\n// synchronous\nvar component = componentAsset.LoadComponent();\n\n// asynchronous\nvar component = await componentAsset.LoadComponentAsync();\n"})}),"\n",(0,s.jsxs)(n.p,{children:["By enabling ",(0,s.jsx)(n.code,{children:"Deserialize On Load"})," in the settings of ",(0,s.jsx)(n.code,{children:"ComponentAsset"}),", the module is preloaded synchronously when the asset is loaded.",(0,s.jsx)(n.br,{}),"\n","This reduces the waiting time for ",(0,s.jsx)(n.code,{children:"ComponentAsset.LoadComponent()"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},76491:(e,n,o)=>{o.d(n,{A:()=>i});o(96540);var t=o(34164),s=o(17559),a=o(74848);function i(e){let{children:n,className:o}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:(0,t.A)(o,s.G.docs.docVersionBadge,"badge badge--secondary"),children:n})})}},28453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>d});var t=o(96540);const s={},a=t.createContext(s);function i(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);