"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[30706],{69681:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"core/module-loading","title":"Loading a Module","description":"Basics","source":"@site/docs/core/module-loading.mdx","sourceDirName":"core","slug":"/core/module-loading","permalink":"/WaaS/core/module-loading","draft":false,"unlisted":false,"editUrl":"https://github.com/ruccho/WaaS/tree/main/docs/docs/core/module-loading.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Loading a Module","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Core API","permalink":"/WaaS/core/"},"next":{"title":"Instantiation","permalink":"/WaaS/core/instantiation"}}');var a=s(74848),t=s(28453),i=s(76491);const d={title:"Loading a Module",sidebar_position:1},r=void 0,l={},c=[{value:"Basics",id:"basics",level:2},{value:"Streaming",id:"streaming",level:2},{value:"Loading as an Asset <Badge>Unity</Badge>",id:"loading-as-an-asset-unity",level:2}];function u(e){const n={br:"br",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"basics",children:"Basics"}),"\n",(0,a.jsxs)(n.p,{children:["Use ",(0,a.jsx)(n.code,{children:"Module.Create()"}),".",(0,a.jsx)(n.br,{}),"\n","You can load from ",(0,a.jsx)(n.code,{children:"ReadOnlySpan<byte>"})," or ",(0,a.jsx)(n.code,{children:"ReadOnlySequence<byte>"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'using WaaS.Runtime;\n\nSpan<byte> bytes = System.IO.File.LoadAllBytes("foo.wasm");\nvar module = Module.Create(bytes);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"streaming",children:"Streaming"}),"\n",(0,a.jsx)(n.p,{children:"Not supported at the moment."}),"\n",(0,a.jsxs)(n.h2,{id:"loading-as-an-asset-unity",children:["Loading as an Asset ",(0,a.jsx)(i.A,{children:"Unity"})]}),"\n",(0,a.jsxs)(n.p,{children:["When you import a file with the extension ",(0,a.jsx)(n.code,{children:"*.wasm"})," into a Unity project, it is automatically loaded as a ",(0,a.jsx)(n.code,{children:"WaaS.Unity.ModuleAsset"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Modules can be assigned as ",(0,a.jsx)(n.code,{children:"[SerializeField]"})," and loaded with ",(0,a.jsx)(n.code,{children:"ModuleAsset.LoadModule()"})," or ",(0,a.jsx)(n.code,{children:"ModuleAsset.LoadModuleAsync()"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:"using UnityEngine;\nusing WaaS.Runtime;\nusing WaaS.Unity;\n\n[SerializeField] private ModuleAsset moduleAsset;\n\n// synchronous\nvar module = moduleAsset.LoadModule();\n\n// asynchronous\nvar module = await ModuleAsset.LoadModuleAsync();\n"})}),"\n",(0,a.jsxs)(n.p,{children:["By enabling ",(0,a.jsx)(n.code,{children:"Deserialize On Load"})," in the settings of ",(0,a.jsx)(n.code,{children:"ModuleAsset"}),", the module is preloaded synchronously when the asset is loaded.",(0,a.jsx)(n.br,{}),"\n","This reduces the waiting time for ",(0,a.jsx)(n.code,{children:"ModuleAsset.LoadModule()"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},76491:(e,n,s)=>{s.d(n,{A:()=>i});s(96540);var o=s(34164),a=s(17559),t=s(74848);function i(e){let{children:n,className:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{className:(0,o.A)(s,a.G.docs.docVersionBadge,"badge badge--secondary"),children:n})})}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>d});var o=s(96540);const a={},t=o.createContext(a);function i(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);